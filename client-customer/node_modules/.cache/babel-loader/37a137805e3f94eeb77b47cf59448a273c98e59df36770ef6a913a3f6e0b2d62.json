{"ast":null,"code":"import _classCallCheck from\"D:/VLU/ShoppeClone/client-customer/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/VLU/ShoppeClone/client-customer/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/VLU/ShoppeClone/client-customer/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/VLU/ShoppeClone/client-customer/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import axios from'axios';import React,{Component}from'react';import{Link}from'react-router-dom';import withRouter from'../utils/withRouter';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Product=/*#__PURE__*/function(_Component){_inherits(Product,_Component);var _super=_createSuper(Product);function Product(props){var _this;_classCallCheck(this,Product);_this=_super.call(this,props);_this.state={products:[]};return _this;}_createClass(Product,[{key:\"render\",value:function render(){var prods=this.state.products.map(function(item){return/*#__PURE__*/_jsx(\"div\",{className:\"inline\",children:/*#__PURE__*/_jsxs(\"figure\",{children:[/*#__PURE__*/_jsx(Link,{to:'/product/'+item._id,children:/*#__PURE__*/_jsx(\"img\",{src:\"data:image/jpg;base64,\"+item.image,width:\"300px\",height:\"300px\",alt:\"\"})}),/*#__PURE__*/_jsxs(\"figcaption\",{className:\"text-center\",children:[item.name,/*#__PURE__*/_jsx(\"br\",{}),\"Author: \",item.author,/*#__PURE__*/_jsx(\"br\",{}),\"Price: \",item.price]})]})},item._id);});return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\"LIST PRODUCTS\"}),prods]});}},{key:\"componentDidMount\",value:function componentDidMount(){// first: /product/...\nvar params=this.props.params;if(params.cid){this.apiGetProductsByCatID(params.cid);}else if(params.keyword){this.apiGetProductsByKeyword(params.keyword);}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){// changed: /product/...\nvar params=this.props.params;if(params.cid&&params.cid!==prevProps.params.cid){this.apiGetProductsByCatID(params.cid);}else if(params.keyword&&params.keyword!==prevProps.params.keyword){this.apiGetProductsByKeyword(params.keyword);}}// apis\n},{key:\"apiGetProductsByCatID\",value:function apiGetProductsByCatID(cid){var _this2=this;axios.get('/api/customer/products/category/'+cid).then(function(res){var result=res.data;_this2.setState({products:result});});}},{key:\"apiGetProductsByKeyword\",value:function apiGetProductsByKeyword(keyword){var _this3=this;axios.get('/api/customer/products/search/'+keyword).then(function(res){var result=res.data;_this3.setState({products:result});});}}]);return Product;}(Component);export default withRouter(Product);","map":{"version":3,"names":["axios","React","Component","Link","withRouter","jsx","_jsx","jsxs","_jsxs","Product","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","products","_createClass","key","value","render","prods","map","item","className","children","to","_id","src","image","width","height","alt","name","author","price","componentDidMount","params","cid","apiGetProductsByCatID","keyword","apiGetProductsByKeyword","componentDidUpdate","prevProps","_this2","get","then","res","result","data","setState","_this3"],"sources":["D:/VLU/ShoppeClone/client-customer/src/components/ProductComponent.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport withRouter from '../utils/withRouter';\r\n\r\nclass Product extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      products: []\r\n    };\r\n  }\r\n  render() {\r\n    const prods = this.state.products.map((item) => {\r\n      return (\r\n        <div key={item._id} className=\"inline\">\r\n          <figure>\r\n            <Link to={'/product/' + item._id}><img src={\"data:image/jpg;base64,\" + item.image} width=\"300px\" height=\"300px\" alt=\"\" /></Link>\r\n            <figcaption className=\"text-center\">{item.name}<br />Author: {item.author}<br />Price: {item.price}</figcaption>\r\n          </figure>\r\n        </div>\r\n      );\r\n    });\r\n    return (\r\n      <div className=\"text-center\">\r\n        <h2 className=\"text-center\">LIST PRODUCTS</h2>\r\n        {prods}\r\n      </div>\r\n    );\r\n  }\r\n  componentDidMount() { // first: /product/...\r\n    const params = this.props.params;\r\n    if (params.cid) {\r\n      this.apiGetProductsByCatID(params.cid);\r\n    } else if (params.keyword) {\r\n      this.apiGetProductsByKeyword(params.keyword);\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps) { // changed: /product/...\r\n    const params = this.props.params;\r\n    if (params.cid && params.cid !== prevProps.params.cid) {\r\n      this.apiGetProductsByCatID(params.cid);\r\n    } else if (params.keyword && params.keyword !== prevProps.params.keyword) {\r\n      this.apiGetProductsByKeyword(params.keyword);\r\n    }\r\n  }\r\n  // apis\r\n  apiGetProductsByCatID(cid) {\r\n    axios.get('/api/customer/products/category/' + cid).then((res) => {\r\n      const result = res.data;\r\n      this.setState({ products: result });\r\n    });\r\n  }\r\n  apiGetProductsByKeyword(keyword) {\r\n    axios.get('/api/customer/products/search/' + keyword).then((res) => {\r\n      const result = res.data;\r\n      this.setState({ products: result });\r\n    });\r\n  }\r\n}\r\nexport default withRouter(Product);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}