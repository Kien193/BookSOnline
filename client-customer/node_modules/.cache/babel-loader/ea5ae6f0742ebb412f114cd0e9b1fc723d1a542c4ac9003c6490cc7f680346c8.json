{"ast":null,"code":"import _classCallCheck from\"D:/VLU/ShoppeClone/client-customer/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/VLU/ShoppeClone/client-customer/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/VLU/ShoppeClone/client-customer/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/VLU/ShoppeClone/client-customer/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Link}from'react-router-dom';import withRouter from'../utils/withRouter';import MyContext from'../contexts/MyContext';import axios from'axios';import Container from'react-bootstrap/Container';import Nav from'react-bootstrap/Nav';import Navbar from'react-bootstrap/Navbar';import NavDropdown from'react-bootstrap/NavDropdown';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Menu=/*#__PURE__*/function(_Component){_inherits(Menu,_Component);var _super=_createSuper(Menu);function Menu(props){var _this;_classCallCheck(this,Menu);_this=_super.call(this,props);_this.state={txtKeyword:''};return _this;}_createClass(Menu,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(Navbar,{expand:\"lg\",className:\"\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Navbar.Brand,{as:Link,to:\"/\",children:[/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:\"https://img.freepik.com/free-vector/hand-drawn-flat-design-stack-books_23-2149342941.jpg?w=2000\",width:\"30\",height:\"30\",className:\"d-inline-block align-top\"}),' ',\"BookSonline\"]}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsxs(Navbar.Collapse,{id:\"basic-navbar-nav\",children:[/*#__PURE__*/_jsx(Nav,{className:\"me-auto\"}),\" \",/*#__PURE__*/_jsxs(Form,{className:\"d-flex align-middle object-fit-contain\",children:[/*#__PURE__*/_jsx(Form.Control,{type:\"search\",placeholder:\"Search\",className:\"keyword me-2 flex-grow-2\",value:this.state.txtKeyword,onChange:function onChange(e){_this2.setState({txtKeyword:e.target.value});},\"aria-label\":\"Search\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",value:\"SEARCH\",variant:\"outline-success\",onClick:function onClick(e){return _this2.btnSearchClick(e);},children:\"Search\"})]}),/*#__PURE__*/_jsx(Nav,{className:\"me-auto\"}),\" \",/*#__PURE__*/_jsx(Nav,{className:\"float-right\",children:this.context.token===''?/*#__PURE__*/_jsxs(Nav.Item,{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"non\",children:\"Login\"}),\" | \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"non\",children:\"Sign-up\"})]}):/*#__PURE__*/_jsxs(NavDropdown,{title:this.context.customer.name,id:\"basic-nav-dropdown\",children:[/*#__PURE__*/_jsx(NavDropdown.Item,{children:/*#__PURE__*/_jsx(Link,{to:\"/myprofile\",className:\"non\",children:\"My profile\"})}),/*#__PURE__*/_jsx(NavDropdown.Item,{children:/*#__PURE__*/_jsx(Link,{to:\"/myorders\",className:\"non\",children:\"My orders\"})}),/*#__PURE__*/_jsx(NavDropdown.Item,{children:/*#__PURE__*/_jsx(Link,{to:\"/home\",className:\"non\",onClick:function onClick(){return _this2.lnkLogoutClick();},children:\"Logout\"})})]})})]})]})});}// event-handlers\n},{key:\"btnSearchClick\",value:function btnSearchClick(e){e.preventDefault();var keyword=this.state.txtKeyword.trim();if(keyword!==''){this.props.navigate('/product/search/'+this.state.txtKeyword);}else{//not found return to home page\nthis.props.navigate('/home');//maybe show a message \"not found\"\n}}},{key:\"lnkLogoutClick\",value:function lnkLogoutClick(){this.context.setToken('');this.context.setCustomer(null);this.context.setMycart([]);}},{key:\"componentDidMount\",value:function componentDidMount(){this.apiGetCategories();}// apis\n},{key:\"apiGetCategories\",value:function apiGetCategories(){var _this3=this;axios.get('/api/customer/categories').then(function(res){var result=res.data;_this3.setState({categories:result});});}}]);return Menu;}(Component);Menu.contextType=MyContext;export default withRouter(Menu);","map":{"version":3,"names":["React","Component","Link","withRouter","MyContext","axios","Container","Nav","Navbar","NavDropdown","Form","Button","jsx","_jsx","jsxs","_jsxs","Menu","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","txtKeyword","_createClass","key","value","render","_this2","expand","className","children","Brand","as","to","alt","src","width","height","Toggle","Collapse","id","Control","type","placeholder","onChange","e","setState","target","variant","onClick","btnSearchClick","context","token","Item","title","customer","name","lnkLogoutClick","preventDefault","keyword","trim","navigate","setToken","setCustomer","setMycart","componentDidMount","apiGetCategories","_this3","get","then","res","result","data","categories","contextType"],"sources":["D:/VLU/ShoppeClone/client-customer/src/components/MenuComponent.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport withRouter from '../utils/withRouter';\r\nimport MyContext from '../contexts/MyContext';\r\nimport axios from 'axios';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport NavDropdown from 'react-bootstrap/NavDropdown';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nclass Menu extends Component {\r\n  static contextType = MyContext;\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      txtKeyword: '',\r\n    };\r\n  }\r\n  render() {\r\n    return (\r\n      <Navbar expand=\"lg\" className=\"\">\r\n        <Container>\r\n          <Navbar.Brand as={Link} to=\"/\">\r\n            <img\r\n              alt=\"\"\r\n              src=\"https://img.freepik.com/free-vector/hand-drawn-flat-design-stack-books_23-2149342941.jpg?w=2000\"\r\n              width=\"30\"\r\n              height=\"30\"\r\n              className=\"d-inline-block align-top\"\r\n            />{' '}\r\n            BookSonline\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n          <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <Nav className=\"me-auto\"></Nav> {/* khoảng trống*/}\r\n            <Form className=\"d-flex align-middle object-fit-contain\">\r\n              <Form.Control\r\n                type=\"search\"\r\n                placeholder=\"Search\"\r\n                className=\"keyword me-2 flex-grow-2\" value={this.state.txtKeyword} onChange={(e) => { this.setState({ txtKeyword: e.target.value }) }}\r\n                aria-label=\"Search\"\r\n                />\r\n              <Button type=\"submit\" value=\"SEARCH\" variant=\"outline-success\" onClick={(e) => this.btnSearchClick(e)}>Search</Button>\r\n            </Form>\r\n            <Nav className=\"me-auto\"></Nav> {/* khoảng trống*/}\r\n            <Nav className=\"float-right\">\r\n              {this.context.token === '' ?\r\n                <Nav.Item>\r\n                  <Link to='/login' className='non'>Login</Link> | <Link to='/signup' className='non'>Sign-up</Link>\r\n                </Nav.Item>\r\n                :\r\n                <NavDropdown title={this.context.customer.name} id=\"basic-nav-dropdown\">\r\n                  <NavDropdown.Item><Link to='/myprofile' className='non'>My profile</Link></NavDropdown.Item>\r\n                  <NavDropdown.Item><Link to='/myorders' className='non'>My orders</Link></NavDropdown.Item>\r\n                  <NavDropdown.Item><Link to='/home' className='non' onClick={() => this.lnkLogoutClick()}>Logout</Link></NavDropdown.Item>\r\n                </NavDropdown>\r\n              }\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n    );\r\n  }\r\n  // event-handlers\r\n  btnSearchClick(e) {\r\n    e.preventDefault();\r\n    const keyword = this.state.txtKeyword.trim();\r\n    if (keyword !== '') {\r\n      this.props.navigate('/product/search/' + this.state.txtKeyword);\r\n    } else {\r\n      //not found return to home page\r\n      this.props.navigate('/home');\r\n      //maybe show a message \"not found\"\r\n    }\r\n  }\r\n  \r\n  lnkLogoutClick() {\r\n    this.context.setToken('');\r\n    this.context.setCustomer(null);\r\n    this.context.setMycart([]);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.apiGetCategories();\r\n  }\r\n  // apis\r\n  apiGetCategories() {\r\n    axios.get('/api/customer/categories').then((res) => {\r\n      const result = res.data;\r\n      this.setState({ categories: result });\r\n    });\r\n  }\r\n}\r\nexport default withRouter(Menu);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}