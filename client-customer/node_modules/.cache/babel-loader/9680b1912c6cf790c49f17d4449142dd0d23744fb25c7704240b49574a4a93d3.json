{"ast":null,"code":"import _classCallCheck from\"D:/VLU/ShoppeClone/client-customer/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/VLU/ShoppeClone/client-customer/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/VLU/ShoppeClone/client-customer/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/VLU/ShoppeClone/client-customer/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import axios from'axios';import React,{Component}from'react';import{Link}from'react-router-dom';import withRouter from'../utils/withRouter';import{Card,Button}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Product=/*#__PURE__*/function(_Component){_inherits(Product,_Component);var _super=_createSuper(Product);function Product(props){var _this;_classCallCheck(this,Product);_this=_super.call(this,props);_this.state={products:[]};return _this;}_createClass(Product,[{key:\"render\",value:function render(){var prods=this.state.products.map(function(item){return/*#__PURE__*/ (// <div key={item._id} className=\"inline\">\n//   <figure>\n//     <Link to={'/product/' + item._id}><img src={\"data:image/jpg;base64,\" + item.image} width=\"300px\" height=\"300px\" alt=\"\" /></Link>\n//     <figcaption className=\"text-center\">{item.name}<br />Author: {item.author}<br />Price: {item.price}</figcaption>\n//   </figure>\n// </div>\n_jsx(\"div\",{className:\"col-md-4 mb-4\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",src:\"data:image/jpg;base64,\"+item.image,alt:\"\"}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{className:\"text-center\",children:item.name}),/*#__PURE__*/_jsx(Card.Text,{className:\"text-center\",children:item.author}),/*#__PURE__*/_jsxs(Card.Text,{className:\"text-center\",children:[\"Price: \",item.price]})]}),/*#__PURE__*/_jsx(Card.Footer,{className:\"text-center bg-white border-0 mb-4\",children:/*#__PURE__*/_jsx(Link,{to:'/product/'+item._id,children:/*#__PURE__*/_jsx(Button,{variant:\"outline-dark\",children:\"Details\"})})})]})},item._id));});return/*#__PURE__*/ (// <div className=\"text-center\">\n//   <h2 className=\"text-center\">LIST PRODUCTS</h2>\n//   {prods}\n// </div>\n_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center my-5\",children:\"LIST PRODUCTS\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:prods})]}));}},{key:\"componentDidMount\",value:function componentDidMount(){// first: /product/...\nvar params=this.props.params;if(params.cid){this.apiGetProductsByCatID(params.cid);}else if(params.keyword){this.apiGetProductsByKeyword(params.keyword);}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){// changed: /product/...\nvar params=this.props.params;if(params.cid&&params.cid!==prevProps.params.cid){this.apiGetProductsByCatID(params.cid);}else if(params.keyword&&params.keyword!==prevProps.params.keyword){this.apiGetProductsByKeyword(params.keyword);}}// apis\n},{key:\"apiGetProductsByCatID\",value:function apiGetProductsByCatID(cid){var _this2=this;axios.get('/api/customer/products/category/'+cid).then(function(res){var result=res.data;_this2.setState({products:result});});}},{key:\"apiGetProductsByKeyword\",value:function apiGetProductsByKeyword(keyword){var _this3=this;axios.get('/api/customer/products/search/'+keyword).then(function(res){var result=res.data;_this3.setState({products:result});});}}]);return Product;}(Component);export default withRouter(Product);","map":{"version":3,"names":["axios","React","Component","Link","withRouter","Card","Button","jsx","_jsx","jsxs","_jsxs","Product","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","products","_createClass","key","value","render","prods","map","item","className","children","Img","variant","src","image","alt","Body","Title","name","Text","author","price","Footer","to","_id","componentDidMount","params","cid","apiGetProductsByCatID","keyword","apiGetProductsByKeyword","componentDidUpdate","prevProps","_this2","get","then","res","result","data","setState","_this3"],"sources":["D:/VLU/ShoppeClone/client-customer/src/components/ProductComponent.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport withRouter from '../utils/withRouter';\r\nimport { Card, Button } from 'react-bootstrap';\r\nclass Product extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      products: []\r\n    };\r\n  }\r\n  render() {\r\n    const prods = this.state.products.map((item) => {\r\n      return (\r\n        // <div key={item._id} className=\"inline\">\r\n        //   <figure>\r\n        //     <Link to={'/product/' + item._id}><img src={\"data:image/jpg;base64,\" + item.image} width=\"300px\" height=\"300px\" alt=\"\" /></Link>\r\n        //     <figcaption className=\"text-center\">{item.name}<br />Author: {item.author}<br />Price: {item.price}</figcaption>\r\n        //   </figure>\r\n        // </div>\r\n        <div key={item._id} className=\"col-md-4 mb-4\">\r\n          <Card>\r\n            <Card.Img variant=\"top\" src={\"data:image/jpg;base64,\" + item.image} alt=\"\" />\r\n            <Card.Body>\r\n              <Card.Title className=\"text-center\">{item.name}</Card.Title>\r\n              <Card.Text className=\"text-center\">{item.author}</Card.Text>\r\n              <Card.Text className=\"text-center\">Price: {item.price}</Card.Text>\r\n            </Card.Body>\r\n            <Card.Footer className=\"text-center bg-white border-0 mb-4\">\r\n              <Link to={'/product/' + item._id}>\r\n                <Button variant=\"outline-dark\">Details</Button>\r\n              </Link>\r\n            </Card.Footer>\r\n          </Card>\r\n        </div>\r\n      );\r\n    });\r\n    return (\r\n      // <div className=\"text-center\">\r\n      //   <h2 className=\"text-center\">LIST PRODUCTS</h2>\r\n      //   {prods}\r\n      // </div>\r\n      <div className=\"container\">\r\n        <h2 className=\"text-center my-5\">LIST PRODUCTS</h2>\r\n        <div className=\"row\">\r\n          {prods}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  componentDidMount() { // first: /product/...\r\n    const params = this.props.params;\r\n    if (params.cid) {\r\n      this.apiGetProductsByCatID(params.cid);\r\n    } else if (params.keyword) {\r\n      this.apiGetProductsByKeyword(params.keyword);\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps) { // changed: /product/...\r\n    const params = this.props.params;\r\n    if (params.cid && params.cid !== prevProps.params.cid) {\r\n      this.apiGetProductsByCatID(params.cid);\r\n    } else if (params.keyword && params.keyword !== prevProps.params.keyword) {\r\n      this.apiGetProductsByKeyword(params.keyword);\r\n    }\r\n  }\r\n  // apis\r\n  apiGetProductsByCatID(cid) {\r\n    axios.get('/api/customer/products/category/' + cid).then((res) => {\r\n      const result = res.data;\r\n      this.setState({ products: result });\r\n    });\r\n  }\r\n  apiGetProductsByKeyword(keyword) {\r\n    axios.get('/api/customer/products/search/' + keyword).then((res) => {\r\n      const result = res.data;\r\n      this.setState({ products: result });\r\n    });\r\n  }\r\n}\r\nexport default withRouter(Product);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}