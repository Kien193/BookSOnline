{"ast":null,"code":"import _classCallCheck from\"D:/VLU/ShoppeClone/client-admin/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/VLU/ShoppeClone/client-admin/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/VLU/ShoppeClone/client-admin/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/VLU/ShoppeClone/client-admin/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import axios from'axios';import React,{Component}from'react';import MyContext from'../contexts/Mycontext';import CategoryDetail from'./CategoryDetailComponent';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Category=/*#__PURE__*/function(_Component){_inherits(Category,_Component);var _super=_createSuper(Category);// using this.context to access global state\nfunction Category(props){var _this;_classCallCheck(this,Category);_this=_super.call(this,props);_this.updateCategories=function(categories){// arrow-function\n_this.setState({categories:categories});};_this.state={categories:[],itemSelected:null};return _this;}_createClass(Category,[{key:\"render\",value:function render(){var _this2=this;var cates=this.state.categories.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{className:\"datatable\",onClick:function onClick(){return _this2.trItemClick(item);},children:[/*#__PURE__*/_jsx(\"td\",{children:item._id}),/*#__PURE__*/_jsx(\"td\",{children:item.name})]},item._id);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"float-left\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\"CATEGORY LIST\"}),/*#__PURE__*/_jsx(\"table\",{className:\"datatable\",border:\"1\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{className:\"datatable\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"})]}),cates]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"inline\"}),/*#__PURE__*/_jsx(CategoryDetail,{item:this.state.itemSelected,updateCategories:this.updateCategories}),/*#__PURE__*/_jsx(\"div\",{className:\"float-clear\"})]});}},{key:\"componentDidMount\",value:function componentDidMount(){this.apiGetCategories();}},{key:\"trItemClick\",value:// event-handlers\nfunction trItemClick(item){this.setState({itemSelected:item});}// apis\n},{key:\"apiGetCategories\",value:function apiGetCategories(){var _this3=this;var config={headers:{'x-access-token':this.context.token}};axios.get('/api/admin/categories',config).then(function(res){var result=res.data;_this3.setState({categories:result});});}}]);return Category;}(Component);Category.contextType=MyContext;export default Category;","map":{"version":3,"names":["axios","React","Component","MyContext","CategoryDetail","jsx","_jsx","jsxs","_jsxs","Category","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","updateCategories","categories","setState","state","itemSelected","_createClass","key","value","render","_this2","cates","map","item","className","onClick","trItemClick","children","_id","name","border","componentDidMount","apiGetCategories","_this3","config","headers","context","token","get","then","res","result","data","contextType"],"sources":["D:/VLU/ShoppeClone/client-admin/src/components/CategoryComponent.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { Component } from 'react';\r\nimport MyContext from '../contexts/Mycontext';\r\nimport CategoryDetail from './CategoryDetailComponent';\r\n\r\nclass Category extends Component {\r\n  static contextType = MyContext; // using this.context to access global state\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      categories: [],\r\n      itemSelected: null\r\n    };\r\n  }\r\n  render() {\r\n    const cates = this.state.categories.map((item) => {\r\n      return (\r\n        <tr key={item._id} className=\"datatable\" onClick={() => this.trItemClick(item)}>\r\n          <td>{item._id}</td>\r\n          <td>{item.name}</td>\r\n        </tr>\r\n      );\r\n    });\r\n    return (\r\n      <div>\r\n        <div className=\"float-left\">\r\n          <h2 className=\"text-center\">CATEGORY LIST</h2>\r\n          <table className=\"datatable\" border=\"1\">\r\n            <tbody>\r\n              <tr className=\"datatable\">\r\n                <th>ID</th>\r\n                <th>Name</th>\r\n              </tr>\r\n              {cates}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"inline\" />\r\n          {/* <CategoryDetail item={this.state.itemSelected} /> */}\r\n          <CategoryDetail item={this.state.itemSelected} updateCategories={this.updateCategories} />\r\n        <div className=\"float-clear\" />\r\n      </div>\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    this.apiGetCategories();\r\n  }\r\n  updateCategories = (categories) => { // arrow-function\r\n    this.setState({ categories: categories });\r\n  }\r\n  // event-handlers\r\n  trItemClick(item) {\r\n    this.setState({ itemSelected: item });\r\n  }\r\n  // apis\r\n  apiGetCategories() {\r\n    const config = { headers: { 'x-access-token': this.context.token } };\r\n    axios.get('/api/admin/categories', config).then((res) => {\r\n      const result = res.data;\r\n      this.setState({ categories: result });\r\n    });\r\n  }\r\n}\r\nexport default Category;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}