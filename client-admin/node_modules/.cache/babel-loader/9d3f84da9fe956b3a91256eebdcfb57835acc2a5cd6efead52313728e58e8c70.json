{"ast":null,"code":"import _classCallCheck from\"D:/VLU/ShoppeClone/client-admin/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/VLU/ShoppeClone/client-admin/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/VLU/ShoppeClone/client-admin/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/VLU/ShoppeClone/client-admin/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import axios from'axios';import React,{Component}from'react';import MyContext from'../contexts/Mycontext';import'bootstrap/dist/css/bootstrap.min.css';import swal from'sweetalert';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);// using this.context to access global state\nfunction Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.state={txtUsername:'',txtPassword:''};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this2=this;if(this.context.token===''){return/*#__PURE__*/_jsx(\"div\",{className:\"wrapper bg-dark bg-opacity-10 d-flex align-items-center justify-content-center w-100\",style:{height:'100vh'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-3 text-center\",style:{fontSize:'20px'},children:\"ADMIN LOGIN\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group was-validated mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",required:true,value:this.state.txtUsername,onChange:function onChange(e){_this2.setState({txtUsername:e.target.value});}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group was-validated mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",required:true,value:this.state.txtPassword,onChange:function onChange(e){_this2.setState({txtPassword:e.target.value});}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary mt-2 w-100\",value:\"LOGIN\",onClick:function onClick(e){return _this2.btnLoginClick(e);},children:\"LOGIN\"})]})]})});}return/*#__PURE__*/_jsx(\"div\",{});}// event-handlers\n},{key:\"btnLoginClick\",value:function btnLoginClick(e){e.preventDefault();var username=this.state.txtUsername;var password=this.state.txtPassword;if(username&&password){var account={username:username,password:password};this.apiLogin(account);}else{//alert('Please input username and password');\nswal({title:\"Please input username and password\",icon:\"warning\",button:\"OK\"});}}// apis\n},{key:\"apiLogin\",value:function apiLogin(account){var _this3=this;axios.post('/api/admin/login',account).then(function(res){var result=res.data;if(result.success===true){_this3.context.setToken(result.token);_this3.context.setUsername(account.username);}else{//alert(result.message);\nswal({title:\"Username and password incorrect\",icon:\"warning\",button:\"OK\"});}});}}]);return Login;}(Component);Login.contextType=MyContext;export default Login;","map":{"version":3,"names":["axios","React","Component","MyContext","swal","jsx","_jsx","jsxs","_jsxs","Login","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","txtUsername","txtPassword","_createClass","key","value","render","_this2","context","token","className","style","height","children","fontSize","type","required","onChange","e","setState","target","onClick","btnLoginClick","preventDefault","username","password","account","apiLogin","title","icon","button","_this3","post","then","res","result","data","success","setToken","setUsername","contextType"],"sources":["D:/VLU/ShoppeClone/client-admin/src/components/LoginComponent.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { Component } from 'react';\r\nimport MyContext from '../contexts/Mycontext';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport swal from 'sweetalert';\r\n\r\nclass Login extends Component {\r\n  static contextType = MyContext; // using this.context to access global state\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      txtUsername: '',\r\n      txtPassword: ''\r\n    };\r\n  }\r\n  render() {\r\n    if (this.context.token === '') {\r\n      return (\r\n        <div className=\"wrapper bg-dark bg-opacity-10 d-flex align-items-center justify-content-center w-100\" style={{ height: '100vh' }}>\r\n          <div className=\"login-container\">\r\n            <h2 className='mb-3 text-center' style={{ fontSize: '20px' }}>ADMIN LOGIN</h2>\r\n            <form>\r\n              <div className=\"form-group was-validated mb-2\">\r\n                <label>Username</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\" required\r\n                  value={this.state.txtUsername}\r\n                  onChange={(e) => { this.setState({ txtUsername: e.target.value }) }}\r\n                />\r\n              </div>\r\n              <div className=\"form-group was-validated mb-2\">\r\n                <label>Password</label>\r\n                <input\r\n                  type=\"password\"\r\n                  className=\"form-control\" required\r\n                  value={this.state.txtPassword} onChange={(e) => { this.setState({ txtPassword: e.target.value }) }}\r\n                />\r\n              </div>\r\n\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn btn-primary mt-2 w-100\"\r\n                value=\"LOGIN\" onClick={(e) => this.btnLoginClick(e)}\r\n              >\r\n                LOGIN\r\n              </button>\r\n\r\n            </form>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return (<div />);\r\n  }\r\n  // event-handlers\r\n  btnLoginClick(e) {\r\n    e.preventDefault();\r\n    const username = this.state.txtUsername;\r\n    const password = this.state.txtPassword;\r\n    if (username && password) {\r\n      const account = { username: username, password: password };\r\n      this.apiLogin(account);\r\n    } else {\r\n      //alert('Please input username and password');\r\n      swal({\r\n        title: \"Please input username and password\",\r\n        icon: \"warning\",\r\n        button: \"OK\",\r\n      });\r\n    }\r\n  }\r\n  // apis\r\n  apiLogin(account) {\r\n    axios.post('/api/admin/login', account).then((res) => {\r\n      const result = res.data;\r\n      if (result.success === true) {\r\n        this.context.setToken(result.token);\r\n        this.context.setUsername(account.username);\r\n      } else {\r\n        //alert(result.message);\r\n        swal({\r\n          title: \"Username and password incorrect\",\r\n          icon: \"warning\",\r\n          button: \"OK\",\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}